<!DOCTYPE html>
<html lang="en">
<head>
        <title>Fun with Markov chains</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://haapa.la/theme/css/main.css" type="text/css" />
   

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://haapa.la/css/ie.css"/>
                <script src="http://haapa.la/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://haapa.la/css/ie6.css"/><![endif]-->
        
    <script type= "text/javascript">
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.src = 'https:' == document.location.protocol ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js' : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; 
        s[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" + 
            "    config: ['MMLorHTML.js']," + 
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS','output/NativeMML']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," + 
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax .mo, .MathJax .mi': {color: 'black ! important'}} " +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(s);
    </script>

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://haapa.la">Haapa.la </a></h1>
                <nav><ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="http://haapa.la/pages/curriculum-vitae.html">CV</a></li>
                    <li><a href="http://haapa.la/pages/isometric-game-engine.html">Isometric Game Engine</a></li>
                    <li><a href="http://haapa.la/pages/ray-tracing.html">Ray Tracing</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="fun-with-markov-chains.html" rel="bookmark"
           title="Permalink to Fun with Markov chains">Fun with Markov chains</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-01-22T20:20:00">
                Wed 22 January 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://haapa.la/author/joonas-haapala.html">Joonas Haapala</a>
        </address>
</footer><!-- /.post-info -->      <p>I learnt that it's possible to use Markov chains for primitive text generation.</p>
<p>Markov chains are a useful tool with many applications. A Markov chain is a set of states with the Markov property: the transition probability to the next state only depends on the current state.</p>
<p>Now if I take a piece of text and give each word a unique state I can approximate the probability of jumping from one word to the next by counting the number of jumps in the source text. Next I pick a starting word and start traversing the chain with a <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">PRNG</a> at hand.</p>
<p>But what I end up with doesn't sound very much like English. The problem is that languages contain structure and sentences are not just random words crammed in together. By the time the generator jumps to the next word it has already forgotten what it said earlier in the same sentence!</p>
<p>What we can do is give each word triplet one state and call it a third-order Markov chain. Now all transitions depend on the previous three words. This way the system captures common structural primitives in languages and the output start to sound a bit more natural (but it's still pretty far). </p>
<p>I found three to be a pretty good size for word context. Higher order models end up with an exact copy of the source text, unless the source is really, really long.</p>
<p><a href="http://haapa.la/crusoe.txt">Here's some output from my piece of software</a>. This time my source was Daniel Defoe's Robinson Crusoe.</p>
<p>Here's some generated from <a href="http://haapa.la/biebl.txt">King James's Bible</a>.</p>
<p>Some gems:</p>
<blockquote>
<p>You are to be burned for a sweet smell, an offering of the fruit of the blood at the top of the earth.   </p>
<p>without doubt Joseph has come to the children of Israel, I AM WHAT I AM WHAT I AM WHAT I AM WHAT I AM and he gave him an account of anything</p>
</blockquote>
<p>Further reading: <a href="http://www.codinghorror.com/blog/2008/06/markov-and-you.html">http://www.codinghorror.com/blog/2008/06/markov-and-you.html</a></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">

        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-9759259-5");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>